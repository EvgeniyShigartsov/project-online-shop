(this["webpackJsonphm-4_use-redux"]=this["webpackJsonphm-4_use-redux"]||[]).push([[0],{198:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(0),a=c.n(n),s=c(40),i=c.n(s),o=(c(93),c(94),c(26)),l=c(3),d=c(5),u=c(54),j=c.n(u),m=c(81),b=c(15),p=c(8),h=c(11),x=c(30),O=c(82),f={products:[],cartList:[],cartSum:0,modal:{isOpen:!1,content:{modalFields:{header:"",text:"",btnText:{ok:"",cancel:""}},modalContent:{productName:"",description:"",price:"",article:""},actions:{onWrapperClick:function(){return null},onCancelBtnClick:function(){return null},onConfrimBtnClick:function(){return null}}}},buyerData:{name:"",surename:"",age:0,adress:"",phone:""}},v="SET_CART_LIST",g="SET_FETCHED_DATA",C="TOGGLE_IS_FAVORITE",k="SHOW_MODAL",S="CLEAR_CART",N="SAVE_BUYER_DATA",y=function(e){return{type:"SET_CART_LIST",payload:e}},L=function(e){return{type:"SHOW_MODAL",payload:e}},F=function(e){return e.reduce((function(e,t){return e+t.price}),0)},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.modal.content;return function(t){t(L(null===e?f.modal.content:e))}},w=Object(x.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(h.a)(Object(h.a)({},e),{},{products:t.payload.products,cartList:t.payload.cartList,cartSum:t.payload.cartSum});case v:return Object(h.a)(Object(h.a)({},e),{},{cartList:t.payload.cartList,cartSum:t.payload.cartSum});case C:return Object(h.a)(Object(h.a)({},e),{},{products:t.payload});case k:return Object(h.a)(Object(h.a)({},e),{},{modal:{isOpen:!e.modal.isOpen,content:t.payload}});case S:return Object(h.a)(Object(h.a)({},e),{},{cartList:t.payload.cartList,cartSum:t.payload.cartSum});case N:return Object(h.a)(Object(h.a)({},e),{},{buyerData:t.payload});default:return e}}),Object(x.a)(O.a)),B=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("svg",{onClick:e.onStarClick,height:"20px",viewBox:"0 -10 511.99143 511",width:"20px",xmlns:"http://www.w3.org/2000/svg",className:"star-img",someattr:"",someattr2:"",someattr3:"",someattr4:"",children:Object(r.jsx)("g",{fill:"transparent",stroke:"black",strokeWidth:"25",className:e.isFavorite?"favorite":"",children:Object(r.jsx)("path",{d:"m510.652344 185.882812c-3.371094-10.367187-12.566406-17.707031-23.402344-18.6875l-147.796875-13.417968-58.410156-136.75c-4.3125-10.046875-14.125-16.53125-25.046875-16.53125s-20.738282 6.484375-25.023438 16.53125l-58.410156 136.75-147.820312 13.417968c-10.835938 1-20.011719 8.339844-23.402344 18.6875-3.371094 10.367188-.257813 21.738282 7.9375 28.925782l111.722656 97.964844-32.941406 145.085937c-2.410156 10.667969 1.730468 21.699219 10.582031 28.097656 4.757813 3.457031 10.347656 5.183594 15.957031 5.183594 4.820313 0 9.644532-1.28125 13.953125-3.859375l127.445313-76.203125 127.421875 76.203125c9.347656 5.585938 21.101562 5.074219 29.933593-1.324219 8.851563-6.398437 12.992188-17.429687 10.582032-28.097656l-32.941406-145.085937 111.722656-97.964844c8.191406-7.1875 11.308594-18.535156 7.9375-28.925782zm-252.203125 223.722657"})})})})},_=function(e){return Object(r.jsx)("button",{className:e.classList,style:{backgroundColor:e.backgroundColor},onClick:e.onClick,children:e.text||e.children})},E=_;_.defaultProps={onClick:function(){return null}};var A=Object(d.b)((function(e){return{modal:e.modal}}),{modalHandler:T})((function(e){var t={modalFields:e.modalFields,modalContent:{productName:e.name,description:e.description,price:e.price,article:e.article},actions:{onWrapperClick:function(t){"modal-wrapper"===t.target.id&&e.modalHandler(null)},onCancelBtnClick:function(){return e.modalHandler(null)},onConfrimBtnClick:e.onBtnClick}};return Object(r.jsxs)("div",{className:"card-wrapper",children:[Object(r.jsx)("img",{className:"card-img",src:e.src,alt:e.name}),Object(r.jsxs)("div",{className:"card-info",children:[Object(r.jsxs)("div",{className:"title-group card-field",children:[Object(r.jsx)("h4",{className:"card-title",children:e.name}),e.showStar&&Object(r.jsx)(B,{isFavorite:e.isFavorite,onStarClick:e.onStarClick})]}),Object(r.jsx)("p",{className:"card-field",children:e.description}),Object(r.jsxs)("p",{className:"card-field",children:["\u0426\u0435\u043d\u0430: ",e.price,Object(r.jsx)("span",{children:"$"})]}),Object(r.jsxs)("p",{className:"card-field",children:["\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430: ",e.article]}),e.showBtn&&Object(r.jsx)(E,{classList:"btn-card card-field",onClick:function(){return e.modalHandler(t)},backgroundColor:e.btnBackground,text:e.cardBtnText})]})]})})),I=function(e){var t=[];return e.products.forEach((function(c,n,a){c.isFavorite&&t.push(Object(r.jsx)(A,{name:c.name,description:c.description,src:c.url,price:c.price,article:c.article,showBtn:!1,showStar:!0,isFavorite:c.isFavorite,onStarClick:function(){return e.onStarClick(a,c.name)}},c.url))})),Object(r.jsxs)("section",{className:"container favorite-section",children:[Object(r.jsx)("h3",{className:"section-headers",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),Object(r.jsx)("div",{className:"favorite-items",children:t.length?t:Object(r.jsx)("span",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442"})})]})},D=Object(d.b)(null,{addProductToCart:function(e,t,c){return function(r){localStorage.setItem(t,c);var n=e.filter((function(e){return localStorage.getItem(e.name)})),a=F(n);r(y({cartList:n,cartSum:a})),r(L(T(null)))}}})((function(e){var t={header:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ?",btnText:{ok:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",cancel:"\u041d\u0430\u0437\u0430\u0434"}};return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h3",{className:"section-headers",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),Object(r.jsx)("div",{className:"card-gallery",children:e.products.map((function(c,n,a){return Object(r.jsx)(A,{name:c.name,description:c.description,src:c.url,price:c.price,article:c.article,showStar:!0,isFavorite:c.isFavorite,onStarClick:function(){return e.onStarClick(a,c.name)},onBtnClick:function(){return e.addProductToCart(a,c.name,c.price)},showBtn:!0,cardBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",btnBackground:"#28a745",modalFields:t},c.url)}))})]})})),P=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"50px",height:"50px",viewBox:"0 0 446.853 446.853",children:Object(r.jsx)("g",{children:Object(r.jsx)("path",{d:"M444.274,93.36c-2.558-3.666-6.674-5.932-11.145-6.123L155.942,75.289c-7.953-0.348-14.599,5.792-14.939,13.708\r c-0.338,7.913,5.792,14.599,13.707,14.939l258.421,11.14L362.32,273.61H136.205L95.354,51.179\r c-0.898-4.875-4.245-8.942-8.861-10.753L19.586,14.141c-7.374-2.887-15.695,0.735-18.591,8.1c-2.891,7.369,0.73,15.695,8.1,18.591\r l59.491,23.371l41.572,226.335c1.253,6.804,7.183,11.746,14.104,11.746h6.896l-15.747,43.74c-1.318,3.664-0.775,7.733,1.468,10.916\r c2.24,3.184,5.883,5.078,9.772,5.078h11.045c-6.844,7.617-11.045,17.646-11.045,28.675c0,23.718,19.299,43.012,43.012,43.012\r s43.012-19.294,43.012-43.012c0-11.028-4.201-21.058-11.044-28.675h93.777c-6.847,7.617-11.047,17.646-11.047,28.675\r c0,23.718,19.294,43.012,43.012,43.012c23.719,0,43.012-19.294,43.012-43.012c0-11.028-4.2-21.058-11.042-28.675h13.432\r c6.6,0,11.948-5.349,11.948-11.947c0-6.6-5.349-11.948-11.948-11.948H143.651l12.902-35.843h216.221\r c6.235,0,11.752-4.028,13.651-9.96l59.739-186.387C447.536,101.679,446.832,97.028,444.274,93.36z M169.664,409.814\r c-10.543,0-19.117-8.573-19.117-19.116s8.574-19.117,19.117-19.117s19.116,8.574,19.116,19.117S180.207,409.814,169.664,409.814z\r M327.373,409.814c-10.543,0-19.116-8.573-19.116-19.116s8.573-19.117,19.116-19.117s19.116,8.574,19.116,19.117\r S337.916,409.814,327.373,409.814z"})})})})},R=c(23),H=c(20),M=R.b().shape({name:R.c().trim().required("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u043f\u043e\u043b\u0435"),surename:R.c().trim().required("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u043f\u043e\u043b\u0435"),adress:R.c().trim().required("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u043f\u043e\u043b\u0435"),phone:R.c().trim().required("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u043f\u043e\u043b\u0435").min(5,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043d\u043e\u043c\u0435\u0440"),age:R.a().required("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u043f\u043e\u043b\u0435").positive("Are you seriously ?").integer("\u0427\u0438\u0441\u043b\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c")}),W=Object(d.b)((function(e){return{cartList:e.cartList}}),{clearCart:function(e){return function(t){e.forEach((function(e){return localStorage.removeItem(e.name)}));t({type:"CLEAR_CART",payload:{cartList:[],cartSum:0}})}},saveBuyerData:function(e){return function(t){return t({type:"SAVE_BUYER_DATA",payload:e})}}})((function(e){return Object(r.jsxs)("div",{className:"form-container",children:[Object(r.jsx)("h3",{className:"delivery-header",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),Object(r.jsx)(H.c,{initialValues:{name:"",surename:"",age:"",adress:"",phone:""},validationSchema:M,onSubmit:function(t,c){var r=c.resetForm;if(0===e.cartList.length)return r(),void alert("\u0417\u0430\u043a\u0430\u0437 \u043d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442, \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430.");console.log(t),console.log(e.cartList),e.clearCart(e.cartList),e.saveBuyerData(t),r(),alert("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!")},children:function(e){var t=e.errors,c=e.touched;return Object(r.jsxs)(H.b,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(H.a,{name:"name",placeholder:"\u0418\u043c\u044f",type:"text"}),t.name&&c.name&&Object(r.jsx)("div",{className:"field-error",children:t.name})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(H.a,{name:"surename",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",type:"text"}),t.surename&&c.surename&&Object(r.jsx)("div",{className:"field-error",children:t.surename})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(H.a,{name:"age",placeholder:"\u0412\u043e\u0437\u0432\u0440\u0430\u0441\u0442",type:"number"}),t.age&&c.age&&Object(r.jsx)("div",{className:"field-error",children:t.age})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(H.a,{name:"adress",placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",type:"text"}),t.adress&&c.adress&&Object(r.jsx)("div",{className:"field-error",children:t.adress})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(H.a,{name:"phone",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",type:"text"}),t.phone&&c.phone&&Object(r.jsx)("div",{className:"field-error",children:t.phone})]}),Object(r.jsx)("button",{type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}})]})})),q=Object(d.b)((function(e){return{cartList:e.cartList,cartSum:e.cartSum}}),{removeProductFromCart:function(e,t){return function(c){localStorage.removeItem(t);var r=e.filter((function(e){return e.name!==t})),n=F(r);c(y({cartList:r,cartSum:n})),c(L(T(null)))}}})((function(e){var t=e.allProducts,c={header:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b",text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b ?",btnText:{ok:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancel:"\u041d\u0430\u0437\u0430\u0434"}},n=e.cartList.map((function(n,a,s){return Object(r.jsx)(A,{name:n.name,description:n.description,src:n.url,price:n.price,article:n.article,showBtn:!0,showStar:!0,isFavorite:n.isFavorite,cardBtnText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",btnBackground:"#6c757d",onBtnClick:function(){return e.removeProductFromCart(s,n.name)},onStarClick:function(){return e.onStarClick(t,n.name)},modalFields:c},n.url)}));return Object(r.jsxs)("section",{className:"container",children:[Object(r.jsx)("h3",{className:"section-headers",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(r.jsx)("div",{className:"cart-items",children:n.length?n:Object(r.jsx)("span",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430."})}),Object(r.jsxs)("div",{className:"delivery-box",children:[Object(r.jsxs)("div",{className:"icon-box",children:[Object(r.jsx)(P,{}),Object(r.jsxs)("div",{children:["\u0421\u0443\u043c\u043c\u0430: ",e.cartSum,"$"]})]}),Object(r.jsx)(W,{})]})]})})),V=Object(d.b)((function(e){return{products:e.products}}),{getData:function(){return function(){var e=Object(m.a)(j.a.mark((function e(t){var c,r,n,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("./products.json");case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,n=r.products,a=n.filter((function(e){return localStorage.getItem(e.name)})),s=a.reduce((function(e,t){return e+t.price}),0),t({type:"SET_FETCHED_DATA",payload:{products:n,cartList:a,cartSum:s}}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),alert("getData func error"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},toggleIsFavoriteProduct:function(e,t){return function(c){var r=e.find((function(e){return e.name===t}));if(r){var n,a=Object(p.a)(e),s=Object(b.a)(a);try{for(s.s();!(n=s.n()).done;){var i=n.value;if(i.name===r.name){i.isFavorite=!i.isFavorite;break}}}catch(o){s.e(o)}finally{s.f()}c({type:"TOGGLE_IS_FAVORITE",payload:a})}}}})((function(e){return Object(n.useEffect)((function(){return e.getData()}),[]),Object(r.jsxs)("div",{children:[Object(r.jsxs)("nav",{className:"navigation",children:[Object(r.jsx)(o.b,{className:"nav-link",to:"/",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),Object(r.jsx)(o.b,{className:"nav-link",to:"/cart",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(r.jsx)(o.b,{className:"nav-link",to:"/favorite",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),Object(r.jsx)(l.a,{exact:!0,path:"/",children:Object(r.jsx)(D,{products:e.products,onStarClick:e.toggleIsFavoriteProduct})}),Object(r.jsx)(l.a,{exact:!0,path:"/cart",children:Object(r.jsx)(q,{allProducts:e.products,onStarClick:e.toggleIsFavoriteProduct})}),Object(r.jsx)(l.a,{exact:!0,path:"/favorite",children:Object(r.jsx)(I,{products:e.products,onStarClick:e.toggleIsFavoriteProduct})})]})})),z=function(e){return Object(r.jsx)("div",{className:"banner-wrapper",children:Object(r.jsx)("img",{className:"banner",src:e.bannerURL,alt:"banner"})})},G=Object(d.b)((function(e){return{modal:e.modal}}),null)((function(e){var t=e.modal.content;return e.modal.isOpen&&Object(r.jsx)("div",{id:"modal-wrapper",className:"modal-wrapper",onClick:t.actions.onWrapperClick,children:Object(r.jsx)("div",{className:"modal-pop-up",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("h3",{className:"modal-header",children:t.modalFields.header}),Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsx)("p",{children:t.modalFields.text}),Object(r.jsx)("div",{className:"modal-children",children:Object(r.jsxs)("div",{className:"card-info",children:[Object(r.jsx)("div",{className:"title-group card-field",children:Object(r.jsx)("h4",{className:"card-title",children:t.modalContent.productName})}),Object(r.jsx)("p",{className:"card-field",children:t.modalContent.description}),Object(r.jsxs)("p",{className:"card-field",children:["\u0426\u0435\u043d\u0430: ",t.modalContent.price,Object(r.jsx)("span",{children:"$"})]}),Object(r.jsxs)("p",{className:"card-field",children:["\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430: ",t.modalContent.article]})]})})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)(E,{classList:"btn",backgroundColor:"#6c757d",text:t.modalFields.btnText.cancel,onClick:t.actions.onCancelBtnClick}),Object(r.jsx)(E,{classList:"btn",backgroundColor:"#28a745",text:t.modalFields.btnText.ok,onClick:t.actions.onConfrimBtnClick})]})]})})})})),U=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)(z,{bannerURL:"https://e7.pngegg.com/pngimages/638/645/png-clipart-logo-banner-brand-product-design-mechanics-tool-trailer-text-logo.png"}),Object(r.jsx)(G,{}),Object(r.jsx)(V,{})]})},$=function(){return Object(r.jsx)(U,{})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,199)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(d.a,{store:w,children:Object(r.jsx)(o.a,{children:Object(r.jsx)($,{})})})}),document.getElementById("root")),J()},93:function(e,t,c){},94:function(e,t,c){}},[[198,1,2]]]);
//# sourceMappingURL=main.19dd7bea.chunk.js.map